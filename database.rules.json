{
  "rules": {
    ".read": false,
    ".write": false,
    "drivers": {
      ".indexOn": ["isOnline"],
      "$driverId": {
        ".read": "auth != null",
        ".write": "auth != null && auth.uid === $driverId"
      }
    },
    "bookingRequests": {
      ".indexOn": ["riderId","driverId"],
      ".read": "auth != null && ((query.orderByChild == 'riderId' && query.equalTo == auth.uid) || (query.orderByChild == 'driverId' && query.equalTo == auth.uid))",
      ".write": "auth != null"
      ,
      "$bookingId": {
        ".read": "auth != null && (data.child('riderId').val() == auth.uid || data.child('driverId').val() == auth.uid)"
      }
    },
    "driverOffers": {
      ".read": "auth != null && auth.uid != null",
      ".write": "auth != null && auth.uid != null"
    }
  }
}
